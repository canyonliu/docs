import{_ as n,c as a,o as e,b as o}from"./chunks/framework.CSxrXzdz.js";const E=JSON.parse('{"title":"Async Components","description":"","frontmatter":{},"headers":[{"level":2,"title":"Basic Usage","slug":"basic-usage","link":"#basic-usage","children":[]},{"level":2,"title":"Loading and Error States","slug":"loading-and-error-states","link":"#loading-and-error-states","children":[]},{"level":2,"title":"Lazy Hydration","slug":"lazy-hydration","link":"#lazy-hydration","children":[{"level":3,"title":"Hydrate on Idle","slug":"hydrate-on-idle","link":"#hydrate-on-idle","children":[]},{"level":3,"title":"Hydrate on Visible","slug":"hydrate-on-visible","link":"#hydrate-on-visible","children":[]},{"level":3,"title":"Hydrate on Media Query","slug":"hydrate-on-media-query","link":"#hydrate-on-media-query","children":[]},{"level":3,"title":"Hydrate on Interaction","slug":"hydrate-on-interaction","link":"#hydrate-on-interaction","children":[]},{"level":3,"title":"Custom Strategy","slug":"custom-strategy","link":"#custom-strategy","children":[]}]},{"level":2,"title":"Using with Suspense","slug":"using-with-suspense","link":"#using-with-suspense","children":[]}],"relativePath":"guide/components/async.md","filePath":"guide/components/async.md"}'),l={name:"guide/components/async.md"};function p(t,s,c,r,i,y){return e(),a("div",null,[...s[0]||(s[0]=[o(`<h1 id="async-components" tabindex="-1">Async Components <a class="header-anchor" href="#async-components" aria-label="Permalink to &quot;Async Components {#async-components}&quot;">​</a></h1><h2 id="basic-usage" tabindex="-1">Basic Usage <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic Usage {#basic-usage}&quot;">​</a></h2><p>In large applications, we may need to divide the app into smaller chunks and only load a component from the server when it&#39;s needed. To make that possible, Vue has a <a href="/api/general.html#defineasynccomponent"><code>defineAsyncComponent</code></a> function:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#F97583;"> new</span><span style="color:#79B8FF;"> Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">reject</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">    // ...load component from server</span></span>
<span class="line"><span style="color:#B392F0;">    resolve</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* loaded component */</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"><span style="color:#6A737D;">// ... use \`AsyncComp\` like a normal component</span></span></code></pre></div><p>As you can see, <code>defineAsyncComponent</code> accepts a loader function that returns a Promise. The Promise&#39;s <code>resolve</code> callback should be called when you have retrieved your component definition from the server. You can also call <code>reject(reason)</code> to indicate the load has failed.</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import" target="_blank" rel="noreferrer">ES module dynamic import</a> also returns a Promise, so most of the time we will use it in combination with <code>defineAsyncComponent</code>. Bundlers like Vite and webpack also support the syntax (and will use it as bundle split points), so we can use it to import Vue SFCs:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#F97583;">  import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./components/MyComponent.vue&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span></code></pre></div><p>The resulting <code>AsyncComp</code> is a wrapper component that only calls the loader function when it is actually rendered on the page. In addition, it will pass along any props and slots to the inner component, so you can use the async wrapper to seamlessly replace the original component while achieving lazy loading.</p><p>As with normal components, async components can be <a href="/guide/components/registration.html#global-registration">registered globally</a> using <code>app.component()</code>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">app.</span><span style="color:#B392F0;">component</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;MyComponent&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#B392F0;">defineAsyncComponent</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#F97583;">  import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./components/MyComponent.vue&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">))</span></span></code></pre></div><div class="options-api"><p>You can also use <code>defineAsyncComponent</code> when <a href="/guide/components/registration.html#local-registration">registering a component locally</a>:</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#F97583;"> default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  components: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    AdminPage: </span><span style="color:#B392F0;">defineAsyncComponent</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#F97583;">      import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./components/AdminPageComponent.vue&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">AdminPage</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div></div><div class="composition-api"><p>They can also be defined directly inside their parent component:</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#B392F0;"> setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AdminPage</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#F97583;">  import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./components/AdminPageComponent.vue&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">AdminPage</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre></div></div><h2 id="loading-and-error-states" tabindex="-1">Loading and Error States <a class="header-anchor" href="#loading-and-error-states" aria-label="Permalink to &quot;Loading and Error States {#loading-and-error-states}&quot;">​</a></h2><p>Asynchronous operations inevitably involve loading and error states - <code>defineAsyncComponent()</code> supports handling these states via advanced options:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#6A737D;">  // the loader function</span></span>
<span class="line"><span style="color:#B392F0;">  loader</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./Foo.vue&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // A component to use while the async component is loading</span></span>
<span class="line"><span style="color:#E1E4E8;">  loadingComponent: LoadingComponent,</span></span>
<span class="line"><span style="color:#6A737D;">  // Delay before showing the loading component. Default: 200ms.</span></span>
<span class="line"><span style="color:#E1E4E8;">  delay: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">  // A component to use if the load fails</span></span>
<span class="line"><span style="color:#E1E4E8;">  errorComponent: ErrorComponent,</span></span>
<span class="line"><span style="color:#6A737D;">  // The error component will be displayed if a timeout is</span></span>
<span class="line"><span style="color:#6A737D;">  // provided and exceeded. Default: Infinity.</span></span>
<span class="line"><span style="color:#E1E4E8;">  timeout: </span><span style="color:#79B8FF;">3000</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><p>If a loading component is provided, it will be displayed first while the inner component is being loaded. There is a default 200ms delay before the loading component is shown - this is because on fast networks, an instant loading state may get replaced too fast and end up looking like a flicker.</p><p>If an error component is provided, it will be displayed when the Promise returned by the loader function is rejected. You can also specify a timeout to show the error component when the request is taking too long.</p><h2 id="lazy-hydration" tabindex="-1">Lazy Hydration <sup class="vt-badge" data-text="3.5+"></sup> <a class="header-anchor" href="#lazy-hydration" aria-label="Permalink to &quot;Lazy Hydration &lt;sup class=&quot;vt-badge&quot; data-text=&quot;3.5+&quot; /&gt; {#lazy-hydration}&quot;">​</a></h2><blockquote><p>This section only applies if you are using <a href="/guide/scaling-up/ssr.html">Server-Side Rendering</a>.</p></blockquote><p>In Vue 3.5+, async components can control when they are hydrated by providing a hydration strategy.</p><ul><li><p>Vue provides a number of built-in hydration strategies. These built-in strategies need to be individually imported so they can be tree-shaken if not used.</p></li><li><p>The design is intentionally low-level for flexibility. Compiler syntax sugar can potentially be built on top of this in the future either in core or in higher level solutions (e.g. Nuxt).</p></li></ul><h3 id="hydrate-on-idle" tabindex="-1">Hydrate on Idle <a class="header-anchor" href="#hydrate-on-idle" aria-label="Permalink to &quot;Hydrate on Idle {#hydrate-on-idle}&quot;">​</a></h3><p>Hydrates via <code>requestIdleCallback</code>:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent, hydrateOnIdle } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#B392F0;">  loader</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./Comp.vue&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  hydrate: </span><span style="color:#B392F0;">hydrateOnIdle</span><span style="color:#E1E4E8;">(</span><span style="color:#6A737D;">/* optionally pass a max timeout */</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="hydrate-on-visible" tabindex="-1">Hydrate on Visible <a class="header-anchor" href="#hydrate-on-visible" aria-label="Permalink to &quot;Hydrate on Visible {#hydrate-on-visible}&quot;">​</a></h3><p>Hydrate when element(s) become visible via <code>IntersectionObserver</code>.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent, hydrateOnVisible } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#B392F0;">  loader</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./Comp.vue&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  hydrate: </span><span style="color:#B392F0;">hydrateOnVisible</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><p>Can optionally pass in an options object value for the observer:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">hydrateOnVisible</span><span style="color:#E1E4E8;">({ rootMargin: </span><span style="color:#9ECBFF;">&#39;100px&#39;</span><span style="color:#E1E4E8;"> })</span></span></code></pre></div><h3 id="hydrate-on-media-query" tabindex="-1">Hydrate on Media Query <a class="header-anchor" href="#hydrate-on-media-query" aria-label="Permalink to &quot;Hydrate on Media Query {#hydrate-on-media-query}&quot;">​</a></h3><p>Hydrates when the specified media query matches.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent, hydrateOnMediaQuery } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#B392F0;">  loader</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./Comp.vue&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  hydrate: </span><span style="color:#B392F0;">hydrateOnMediaQuery</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;(max-width:500px)&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h3 id="hydrate-on-interaction" tabindex="-1">Hydrate on Interaction <a class="header-anchor" href="#hydrate-on-interaction" aria-label="Permalink to &quot;Hydrate on Interaction {#hydrate-on-interaction}&quot;">​</a></h3><p>Hydrates when specified event(s) are triggered on the component element(s). The event that triggered the hydration will also be replayed once hydration is complete.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent, hydrateOnInteraction } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#B392F0;">  loader</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./Comp.vue&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  hydrate: </span><span style="color:#B392F0;">hydrateOnInteraction</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;click&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><p>Can also be a list of multiple event types:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#B392F0;">hydrateOnInteraction</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;wheel&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;mouseover&#39;</span><span style="color:#E1E4E8;">])</span></span></code></pre></div><h3 id="custom-strategy" tabindex="-1">Custom Strategy <a class="header-anchor" href="#custom-strategy" aria-label="Permalink to &quot;Custom Strategy {#custom-strategy}&quot;">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code" tabindex="0"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineAsyncComponent, </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> HydrationStrategy } </span><span style="color:#F97583;">from</span><span style="color:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#B392F0;"> myStrategy</span><span style="color:#F97583;">:</span><span style="color:#B392F0;"> HydrationStrategy</span><span style="color:#F97583;"> =</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">hydrate</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">forEachElement</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">  // forEachElement is a helper to iterate through all the root elements</span></span>
<span class="line"><span style="color:#6A737D;">  // in the component&#39;s non-hydrated DOM, since the root can be a fragment</span></span>
<span class="line"><span style="color:#6A737D;">  // instead of a single element</span></span>
<span class="line"><span style="color:#B392F0;">  forEachElement</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">el</span><span style="color:#F97583;"> =&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">    // ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#6A737D;">  // call \`hydrate\` when ready</span></span>
<span class="line"><span style="color:#B392F0;">  hydrate</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">  return</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#6A737D;">    // return a teardown function if needed</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#79B8FF;"> AsyncComp</span><span style="color:#F97583;"> =</span><span style="color:#B392F0;"> defineAsyncComponent</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#B392F0;">  loader</span><span style="color:#E1E4E8;">: () </span><span style="color:#F97583;">=&gt;</span><span style="color:#F97583;"> import</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;./Comp.vue&#39;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">  hydrate: myStrategy</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre></div><h2 id="using-with-suspense" tabindex="-1">Using with Suspense <a class="header-anchor" href="#using-with-suspense" aria-label="Permalink to &quot;Using with Suspense {#using-with-suspense}&quot;">​</a></h2><p>Async components can be used with the <code>&lt;Suspense&gt;</code> built-in component. The interaction between <code>&lt;Suspense&gt;</code> and async components is documented in the <a href="/guide/built-ins/suspense.html">dedicated chapter for <code>&lt;Suspense&gt;</code></a>.</p>`,41)])])}const h=n(l,[["render",p]]);export{E as __pageData,h as default};
