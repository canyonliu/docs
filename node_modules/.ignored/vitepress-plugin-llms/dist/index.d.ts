import { Plugin } from 'vite';

interface LlmstxtSettings {
	/**
	 * Determines whether to generate the `llms-full.txt` which contains all the documentation in one file
	 *
	 * @default true
	 */
	generateLLMsFullTxt?: boolean

	/**
	 * Indicates whether to generate the `llms.txt` file, which contains a list of sections with corresponding links.
	 *
	 * @default true
	 */
	generateLLMsTxt?: boolean

	/**
	 * An array of file path patterns to be ignored during processing.
	 *
	 * This is useful for excluding certain files from LLMs, such as those not related to documentation (e.g., sponsors, team, etc.).
	 *
	 * @example
	 * llmstxt({
	 *     ignoreFiles: [
	 *         'about/team/*',
	 *         'sponsor/*'
	 *         // ...
	 *     ]
	 * })
	 *
	 * @default []
	 */
	ignoreFiles?: string[]

	/**
	 * A custom template for the `llms.txt` file, allowing for a personalized order of elements.
	 *
	 * Available template elements include:
	 *
	 * - `{title}`: The title extracted from the frontmatter or the first h1 heading in the main document (`index.md`).
	 * - `{description}`: The description.
	 * - `{toc}`: An automatically generated **T**able **O**f **C**ontents.
	 *
	 * @default
	 * `# {title}
	 *
	 * {description}
	 *
	 * ## Table of Contents
	 *
	 * {toc}`
	 */
	customLLMsTxtTemplate?: string

	/**
	 * The directory from which files will be processed.
	 *
	 * This is useful for configuring the plugin to generate documentation for LLMs in a specific language.
	 *
	 * @example
	 * llmstxt({
	 *     // Generate documentation for LLMs from English documentation only
	 *     workDir: 'en'
	 * })
	 * @default vitepress.srcDir
	 */
	workDir?: string
}

/**
 * [VitePress](http://vitepress.dev/) plugin for generating raw documentation
 * for **LLMs** in Markdown format which is much lighter and more efficient for LLMs
 *
 * @param [userSettings={}] - Plugin settings.
 *
 * @see https://github.com/okineadev/vitepress-plugin-llms
 * @see https://llmstxt.org/
 */
declare function llmstxt(userSettings?: LlmstxtSettings): Plugin;

export { llmstxt as default };
